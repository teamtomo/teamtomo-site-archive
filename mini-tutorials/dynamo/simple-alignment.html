
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simple subtomogram averaging</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"TeX": {"Macros": {"N": "\\mathbb{N}", "floor": ["\\lfloor#1\\rfloor", 1], "bmat": ["\\left[\\begin{array}"], "emat": ["\\end{array}\\right]"]}}, "tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Extracting particles" href="extract-from-catalogue.html" />
    <link rel="prev" title="Dynamo" href="index.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.svg" class="logo" alt="logo">
  
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  teamtomo.org
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../teamtomo/about.html">
   About the project
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../teamtomo/contributing/index.html">
   Contributing
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../teamtomo/contributing/git_guide.html">
     A short guide to git(hub)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../teamtomo/contributing/screen-capture.html">
     Screen capture
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../teamtomo/contributing/wishlist.html">
     Wishlist
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Theory
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../theory/cryo-et/index.html">
   Cryo-electron tomography
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../theory/cryo-et/tilt-schemes.html">
     Tilt-schemes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../theory/cryo-et/tilt-series-alignment.html">
     Tilt-series alignment
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../theory/subtomogram-averaging/index.html">
   Subtomogram averaging
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../theory/subtomogram-averaging/preprocessing/index.html">
     Preprocessing
    </a>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../theory/subtomogram-averaging/particle-picking/index.html">
     Particle picking
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../theory/subtomogram-averaging/particle-picking/template-matching.html">
       Template matching
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../theory/subtomogram-averaging/particle-picking/geometrical-supports.html">
       Using a supporting geometry
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../theory/subtomogram-averaging/particle-picking/subboxing.html">
       Subboxing
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../theory/subtomogram-averaging/refinement/index.html">
     Refinement
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../theory/image-processing/introduction.html">
   Image processing
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Walkthroughs
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/introduction.html">
   EMPIAR-10164 (HIV VLPs)
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/preparation.html">
     Download the data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/2d-preprocessing.html">
     2D preprocessing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/tilt-series-to-tomograms.html">
     Tilt-series to tomograms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/geometrical-picking.html">
     Geometrical particle picking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/ini-model.html">
     Initial model generation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/particle-picking.html">
     Find particles on every VLP
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/relion.html">
     Particle pose optimisation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../walkthroughs/EMPIAR-10164/m.html">
     Multi-particle refinement
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  mini-tutorials
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="index.html">
   Dynamo
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Simple subtomogram averaging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="extract-from-catalogue.html">
     Extracting particles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dipoles-to-vesicles.html">
     Spherical vesicle picking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dtmslice-controls.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       dtmslice
      </span>
     </code>
     viewing controls
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="interactive-mask-creation.html">
     Interactive mask creation
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  computing
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../computing/python/index.html">
   Python
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../computing/python/getting-started.html">
     Getting started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../computing/python/virtual-environments.html">
     Virtual environments
    </a>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../computing/python/useful-packages/useful-packages.html">
     Useful packages
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/dynamotable.html">
       dynamotable
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/emfile.html">
       emfile
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/eulerangles.html">
       eulerangles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/mrcfile.html">
       mrcfile
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/napari.html">
       napari
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../computing/python/useful-packages/starfile.html">
       starfile
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../computing/matlab/index.html">
   MATLAB
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../computing/matlab/add-to-path.html">
     Adding scripts/functions to your PATH in
     <code class="docutils literal notranslate">
      <span class="pre">
       MATLAB
      </span>
     </code>
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Resources
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../resources/literature/index.html">
   Literature
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/literature/protocols/protocols.html">
     Protocols
    </a>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../resources/literature/reviews/reviews.html">
     Reviews
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/reviews/schur19.html">
       Schur - 2019
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/reviews/lucic08.html">
       Lučić - 2008
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/reviews/lucic05.html">
       Lučić - 2005
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../resources/literature/book-chapters/book-chapters.html">
     Book chapters
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/book-chapters/subtomo-leigh19.html">
       Subtomogram averaging from cryo-electron tomograms - Leigh 2019
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/book-chapters/cryo-et-sta-wan16.html">
       Cryo-Electron Tomography and Subtomogram Averaging - Wan 2016
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/literature/book-chapters/fiducial-alignments-mastronarde07.html">
       Fiducial Marker and Hybrid Alignment Methods for Single- and Double-axis Tomography - Mastronarde 2007
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../resources/cryoet-software/cryoet-software.html">
   Software packages
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/cryolo/cryolo.html">
     crYOLO
    </a>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../resources/cryoet-software/dynamo/dynamo.html">
     Dynamo
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/dynamo/starters-guide.html">
       Starters guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/dynamo/advanced-starters-guide.html">
       Advanced starters guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/dynamo/tilt-series-alignment.html">
       Tilt-series alignment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/dynamo/PCA.html">
       PCA based classification
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../resources/cryoet-software/eman2/eman2.html">
     EMAN2
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/eman2/full-tutorial.html">
       Complete tutorial
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/eman2/segmentation.html">
       Neural-net based segmentation
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../resources/cryoet-software/emclarity/emclarity.html">
     emClarity
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/emclarity/tutorial.html">
       tutorial
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../resources/cryoet-software/imod/imod.html">
     IMOD
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/imod/tomo-guide.html">
       Tomography guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/imod/etomo-fiducial-tuto.html">
       Etomo with fiducials
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/imod/etomo-patch-track-tuto.html">
       Patch tracking in Etomo
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/imod/batch-alignment.html">
       Batch tilt-series alignment
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../resources/cryoet-software/m/m.html">
     M
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/m/user-guide.html">
       Warp/M
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/novactf/novactf.html">
     NovaCTF
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/novasta/novasta.html">
     NovaSTA
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/pytom/pytom.html">
     PyTom
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/relion/relion.html">
     RELION
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/cryoet-software/stopgap/stopgap.html">
     STOPGAP
    </a>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../../resources/cryoet-software/warp/warp.html">
     Warp
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../../resources/cryoet-software/warp/user-guide.html">
       Warp/M
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/mini-tutorials/dynamo/simple-alignment.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/teamtomo/teamtomo.github.io"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/teamtomo/teamtomo.github.io/issues/new?title=Issue%20on%20page%20%2Fmini-tutorials/dynamo/simple-alignment.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/teamtomo/teamtomo.github.io/edit/master/./mini-tutorials/dynamo/simple-alignment.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prerequisites">
   Prerequisites
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup">
   Setup
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open-the-dcp-gui">
     Open the
     <code class="docutils literal notranslate">
      <span class="pre">
       dcp
      </span>
     </code>
     gui
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#name-the-project">
     Name the project
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#input-files">
     Input files
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#input-your-particles">
       Input your particles
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alignment-parameters">
     Alignment parameters
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#computational-parameters">
     Computational parameters
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#hardware">
       Hardware
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#optional-specifying-gpus">
         (optional) specifying GPUs
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#mpi">
       MPI
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#parallelized-averaging-step">
       Parallelized averaging step
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unfolding-the-project">
   Unfolding the project
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-project">
   Running the project
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#looking-at-the-results">
   Looking at the results
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="simple-subtomogram-averaging">
<h1>Simple subtomogram averaging<a class="headerlink" href="#simple-subtomogram-averaging" title="Permalink to this headline">¶</a></h1>
<p>This mini-tutorial will show you how to quickly set up and run a subtomogram averaging experiment in <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code>.
In <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> lingo, this is referred to as an ‘alignment project’.</p>
<p>We will set up our alignment project from the ‘Dynamo current project’ GUI (<code class="docutils literal notranslate"><span class="pre">dcp</span></code>).</p>
<p>Alignment projects can also be set up from the
<a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Advanced_starters_guide#Project_to_find_membrane_orientations"><code class="docutils literal notranslate"><span class="pre">MATLAB</span></code> shell</a>
or the
<a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Scripted_creation_of_a_project_in_the_Linux_command_line">Linux command line</a>.
You can also set up your project locally, then
<a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Tarring_projects">bundle it up and send it to a remote machine/cluster</a>.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>a set of particles in a <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> <a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Generic_data_containers">data container</a></p></li>
<li><p>(optional) metadata for each particle in a <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> <a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Table">table file</a></p></li>
<li><p>(optional) a reference volume with the same dimensions as your particles</p></li>
<li><p>(optional) a mask around your region of interest</p></li>
</ul>
</div>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>First, we need to open <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code>, either activating it in <code class="docutils literal notranslate"><span class="pre">MATLAB</span></code> or using the standalone version.</p>
<div class="section" id="open-the-dcp-gui">
<h3>Open the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> gui<a class="headerlink" href="#open-the-dcp-gui" title="Permalink to this headline">¶</a></h3>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are using the standalone version of <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code>, you can run <code class="docutils literal notranslate"><span class="pre">dcp</span></code> from the Linux command line directly with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dynamo</span> <span class="o">&gt;&gt;</span> <span class="n">dcp</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI is the main tool in <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> for interactively designing subtomogram averaging experiments.</p>
<p>To open the GUI simply run <code class="docutils literal notranslate"><span class="pre">dcp</span></code> from your <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> shell.</p>
</div>
<div class="section" id="name-the-project">
<h3>Name the project<a class="headerlink" href="#name-the-project" title="Permalink to this headline">¶</a></h3>
<p>Click in the box to the right of <code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">name</span></code> and write a name for your project.
Choose something descriptive, it might help you remember what you did in a few months time!</p>
<p>Hit <code class="docutils literal notranslate"><span class="pre">Enter</span></code>. In the dialogue box which pops up, confirm that you would like to create a new project by clicking <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">new</span> <span class="pre">project</span></code>.</p>
<p><img alt="name your project image" src="../../_images/name-project.gif" /></p>
</div>
<div class="section" id="input-files">
<h3>Input files<a class="headerlink" href="#input-files" title="Permalink to this headline">¶</a></h3>
<div class="section" id="input-your-particles">
<h4>Input your particles<a class="headerlink" href="#input-your-particles" title="Permalink to this headline">¶</a></h4>
<p>Click on the <code class="docutils literal notranslate"><span class="pre">particles</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row. In the dialogue box which pops up, enter the name of your data file.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To keep your workspace tidy, close the dialogue boxes once you are finished with them. They tend to build up quickly!</p>
</div>
</div>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-20 docutils">
<div class="card w-100 border-2 docutils">
<div class="card-body docutils">
<div class="tabbed-set docutils">
<input checked="checked" id="2ad787d7-f960-4fb0-82f2-021d3352704d" name="93ea4382-9010-436b-8e6f-dc3eb5ed25e6" type="radio">
</input><label class="tabbed-label" for="2ad787d7-f960-4fb0-82f2-021d3352704d">
particles</label><div class="tabbed-content docutils">
<p class="card-text">Click on the <code class="docutils literal notranslate"><span class="pre">particles</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row.
In the dialogue box which pops up, enter the name of your data file.</p>
<p class="card-text"><img alt="select particles image" src="../../_images/select-particles.gif" /></p>
</div>
<input id="84e3d911-0447-4c74-81fe-eead519ebe42" name="93ea4382-9010-436b-8e6f-dc3eb5ed25e6" type="radio">
</input><label class="tabbed-label" for="84e3d911-0447-4c74-81fe-eead519ebe42">
table</label><div class="tabbed-content docutils">
<p class="card-text">Click on the <code class="docutils literal notranslate"><span class="pre">table</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row. In the dialogue box which pops up, enter the name of your table file.
If you don’t have a template, you can generate a blank table or a random table using the buttons in the Dialogue box.
<img alt="select table image" src="../../_images/select-table.gif" /></p>
</div>
<input id="380b55a7-bb4f-4c38-836b-c48c9762c2bf" name="93ea4382-9010-436b-8e6f-dc3eb5ed25e6" type="radio">
</input><label class="tabbed-label" for="380b55a7-bb4f-4c38-836b-c48c9762c2bf">
template</label><div class="tabbed-content docutils">
<p class="card-text">Click on the <code class="docutils literal notranslate"><span class="pre">template</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row. In the dialogue box which pops up, enter the name of your template file.</p>
<p class="card-text">If you don’t have a template, a random subset of the data can be used to generate an initial reference volume from the GUI by selecting
one of the options in the <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">create</span> <span class="pre">a</span> <span class="pre">template</span></code> section, setting the desired number of particles and hitting <code class="docutils literal notranslate"><span class="pre">Average</span> <span class="pre">data</span></code>.</p>
<p class="card-text"><img alt="create template image" src="../../_images/create-template.gif" /></p>
</div>
<input id="7f379f67-992e-4906-83d9-25f0f5736a28" name="93ea4382-9010-436b-8e6f-dc3eb5ed25e6" type="radio">
</input><label class="tabbed-label" for="7f379f67-992e-4906-83d9-25f0f5736a28">
masks</label><div class="tabbed-content docutils">
<p class="card-text">Click on the <code class="docutils literal notranslate"><span class="pre">masks</span></code> button in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">files</span></code> row. In the dialogue box which pops up, you can enter up to four files</p>
<ul class="simple">
<li><p class="card-text">an alignment mask</p></li>
<li><p class="card-text">a classification mask</p></li>
<li><p class="card-text">a Fourier mask for the template</p></li>
<li><p class="card-text">a Fourier shell correlation mask</p></li>
</ul>
<p class="card-text"><img alt="default masks image" src="../../_images/masks-default.gif" /></p>
<p class="card-text">The <code class="docutils literal notranslate"><span class="pre">Use</span> <span class="pre">default</span> <span class="pre">masks</span></code> button will create masks covering the full extend of real space and fourier space for each mask automatically.</p>
<div class="margin sidebar">
<p class="card-title sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p class="card-text">You can check that your mask properly covers your template using the <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">mask</span> <span class="pre">-&gt;</span> <span class="pre">overlay</span> <span class="pre">x/y/z</span></code> menu options.</p>
</div>
</div>
<p class="card-text">The alignment mask defines a masked region of real space in which cross correlations used for alignments will be calculated.
The classification mask defines a masked region of real space in which cross correlations used for classification will be calculated.
The Fourier mask for the template defines the region of Fourier space in which you have information in your template (reference) volume.
The Fourier shell correlation mask defines a masked region of real space in which Fourier shell calculations will be calculated.</p>
<p class="card-text">Each mask can be created from the GUI directly, or an external mask can be provided. The classification mask and the Fourier shell correlation mask are not
relevant for simple, single reference alignment projects such as the one we are setting up.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="alignment-parameters">
<h3>Alignment parameters<a class="headerlink" href="#alignment-parameters" title="Permalink to this headline">¶</a></h3>
<p>From the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI click <code class="docutils literal notranslate"><span class="pre">numerical</span> <span class="pre">parameters</span></code> in the <code class="docutils literal notranslate"><span class="pre">Input:</span> <span class="pre">settings</span></code> row. This will open up a separate window in which many parameters relating to the numerical aspects of your alignments can be defined.</p>
<a class="reference internal image-reference" href="../../_images/numerical-params.png"><img alt="../../_images/numerical-params.png" src="../../_images/numerical-params.png" style="width: 600px;" /></a>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>You should think carefully about how much you allow particles to move during an iterative alignment experiment. Particles have a tendency to ‘wander off’ in low SNR environments, restricting the evolution of shifts appropriately (<code class="docutils literal notranslate"><span class="pre">shift</span> <span class="pre">limiting</span> <span class="pre">way</span></code> 3 or 4) can reduce this problem.</p>
<p>If your angular parameters come from a geometrical model, restricting angular searches ensures the particles do not deviate too much from initial estimates.</p>
</div>
<p>Key info:</p>
<ul class="simple">
<li><p>Hit <code class="docutils literal notranslate"><span class="pre">alt</span></code> on your keyboard or the <code class="docutils literal notranslate"><span class="pre">?</span></code> button for more info on a parameter</p></li>
<li><p>Alignment projects can be split up into rounds with different alignment parameters</p></li>
<li><p>Each round can have an arbitrary number of iterations</p></li>
<li><p>Each round employs a multilevel refinement <a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/Multilevel_refinement">angular sampling scheme</a></p></li>
<li><p>High and low pass thresholds (in Fourier pixels) define which spatial frequencies are aligned</p></li>
<li><p>Shifts are x, y, z shifts in the reference frame of each experimental particle</p></li>
<li><p>The evolution of particle positions can be restricted using the <code class="docutils literal notranslate"><span class="pre">shift</span> <span class="pre">limiting</span> <span class="pre">way</span></code> option.</p></li>
</ul>
<p>You can get a depiction of your current angular search parameters from the <code class="docutils literal notranslate"><span class="pre">Angles</span> <span class="pre">-&gt;</span> <span class="pre">Show</span> <span class="pre">sketch</span> <span class="pre">of</span> <span class="pre">scanning</span> <span class="pre">angles</span> <span class="pre">-&gt;</span> <span class="pre">Round</span> <span class="pre">X</span></code> menu options.</p>
<p><img alt="scanning angles image" src="../../_images/scanning-angles.gif" /></p>
</div>
<div class="section" id="computational-parameters">
<h3>Computational parameters<a class="headerlink" href="#computational-parameters" title="Permalink to this headline">¶</a></h3>
<p>Computational parameters are used to tell the projects what it needs to know about the computing environment where it will be run.</p>
<p>Click <code class="docutils literal notranslate"><span class="pre">computing</span> <span class="pre">environment</span></code> from the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI, a new window will open in which parameters can be edited.</p>
<div class="section" id="hardware">
<h4>Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">¶</a></h4>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Running projects in the <code class="docutils literal notranslate"><span class="pre">standalone</span></code> modus leaves your <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> shell free for designing projects, making masks and performing other analyses.</p>
</div>
</div>
<p>First, choose the hardware on which you will be running your alignment project. We typically use <code class="docutils literal notranslate"><span class="pre">GPU</span> <span class="pre">(standalone)</span></code>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>If running in a GPU modus, you should use only one CPU core in this box!</p>
</div>
<div class="section" id="optional-specifying-gpus">
<h5>(optional) specifying GPUs<a class="headerlink" href="#optional-specifying-gpus" title="Permalink to this headline">¶</a></h5>
<p>Specify the GPU identifiers for GPUs you would like to use for alignment. These are typically enumerated from 0.</p>
<p>e.g. for a 4 GPU system, set this to <code class="docutils literal notranslate"><span class="pre">0,1,2,3</span></code></p>
<p>Leave the motor as <code class="docutils literal notranslate"><span class="pre">spp</span></code> (this stands for sub-pixel precision).</p>
</div>
</div>
<div class="section" id="mpi">
<h4>MPI<a class="headerlink" href="#mpi" title="Permalink to this headline">¶</a></h4>
<p>This section can be used to select a cluster submission script which works with your system. More info <a class="reference external" href="https://wiki.dynamo.biozentrum.unibas.ch/w/index.php/MPI_Cluster">here</a>.</p>
</div>
<div class="section" id="parallelized-averaging-step">
<h4>Parallelized averaging step<a class="headerlink" href="#parallelized-averaging-step" title="Permalink to this headline">¶</a></h4>
<p>This section allows a user to specify how many cores they would like to use for the ‘averaging’ step between each iteration of subtomogram averaging.
This should be set to the number of logical (not hyperthreaded) cores available on the system used for executing the project.</p>
</div>
</div>
</div>
<div class="section" id="unfolding-the-project">
<h2>Unfolding the project<a class="headerlink" href="#unfolding-the-project" title="Permalink to this headline">¶</a></h2>
<p>Unfolding a project means getting it ready to run on your system. If executing on a remote system, the project should be unfolded on that system.</p>
<p>To unfold a project, first hit <code class="docutils literal notranslate"><span class="pre">check</span></code>, then <code class="docutils literal notranslate"><span class="pre">unfold</span></code> from the control section of the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI.</p>
<p>This will create a file <code class="docutils literal notranslate"><span class="pre">&lt;my_new_project&gt;.exe</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;my_new_project.m&gt;</span></code> depending on whether the project will run in the standalone or the <code class="docutils literal notranslate"><span class="pre">MATLAB</span></code> environment.</p>
</div>
<div class="section" id="running-the-project">
<h2>Running the project<a class="headerlink" href="#running-the-project" title="Permalink to this headline">¶</a></h2>
<p>If running a project in the <code class="docutils literal notranslate"><span class="pre">MATLAB</span></code> modus, just type this in your <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> shell:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="o">&lt;</span><span class="n">my_new_project</span><span class="o">&gt;</span><span class="p">.</span><span class="n">m</span>` 
</pre></div>
</div>
<p>If running using the <code class="docutils literal notranslate"><span class="pre">standalone</span></code>, you first have to activate <code class="docutils literal notranslate"><span class="pre">Dynamo</span></code> in the shell. Usually this is achieved by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> /path/to/dynamo/installation/dynamo_activate_linux_shipped_MCR.sh

./&lt;my_new_project&gt;.exe
</pre></div>
</div>
</div>
<div class="section" id="looking-at-the-results">
<h2>Looking at the results<a class="headerlink" href="#looking-at-the-results" title="Permalink to this headline">¶</a></h2>
<p>Hitting the <code class="docutils literal notranslate"><span class="pre">show</span></code> button from the <code class="docutils literal notranslate"><span class="pre">Results</span></code> row of the <code class="docutils literal notranslate"><span class="pre">dcp</span></code> GUI opens up a new window for looking at the results of an alignment project.</p>
<p>Hitting the <code class="docutils literal notranslate"><span class="pre">progress</span></code> button will tell you the current status of the alignment project.</p>
<p>From the results GUI, averages and associated particle metadata can be visualised in various tools. You can also open your maps directly in other packages such as <code class="docutils literal notranslate"><span class="pre">ChimeraX</span></code>.</p>
<p>Visualising particle positions and orientations can also be useful to check that an alignment procedure is behaving as you expect.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./mini-tutorials/dynamo"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">Dynamo</a>
    <a class='right-next' id="next-link" href="extract-from-catalogue.html" title="next page">Extracting particles</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By the teamtomo.org contributors<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>